{"version":3,"sources":["lib/sudoku.ts","App.tsx","serviceWorker.ts","index.tsx","workers/solve-sudoku-worker.ts","workers/generate-sudoku-worker.ts"],"names":["NUMBERS","Sudoku","grid","Object","classCallCheck","this","defaultGrid","reset","rand","min","max","Math","floor","random","baseNumbers","fillX","fillY","allowedNumbers","length","randomIndex","set","solve","generate","digNumbers","digX","digY","get","toConsumableArray","Array","map","x","fill","y","value","allowedNumbersInRow","includes","Error","concat","allowedNumbersInColumn","allowedNumbersInBlock","row","filter","num","column","bx","by","numbersInBlock","i","j","push","numbersInRow","numbersInColumn","cells","forEach","_this","allowedNumbersLength","arguments","undefined","SIZE","cell","emptyCells","some","emptyCell","_emptyCell","slicedToArray","every","solveUltimately","isSolved","_this$anyEmptyCell","anyEmptyCell","_this$anyEmptyCell2","shift","err","sudoku","Boolean","window","location","hostname","match","ReactDOM","render","react_default","a","createElement","inputRefs","useRef","_useState","useState","_useState2","gridData","setGridData","_useState3","_useState4","solvedCells","setSolvedCells","_useState5","_useState6","solving","setSolving","_useState7","_useState8","generating","setGenerating","_useState9","_useState10","showTips","setShowTips","_useState11","_useState12","editingCell","setEditingCell","useEffect","sudokuSolver","SudokuSolver","addEventListener","event","data","success","Modal","error","title","content","postMessage","sudokuGenerator","SudokuGenerator","current","inputRef","focus","listener","target","closest","document","removeEventListener","className","layout","Content","key","cx","block-boder","solved","arr","join","onClick","type","onChange","e","parsedValue","parseInt","message","info","warning","setValue","readOnly","ref","input","es_button","Group","size","disabled","loading","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports","Worker","__webpack_require__","p"],"mappings":"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","file":"static/js/main.6db74609.chunk.js","sourcesContent":["const SIZE = 9\nconst NUMBERS = [1, 2, 3, 4, 5, 6, 7, 8, 9]\n\nexport default class Sudoku {\n  grid: Array<number[]>\n\n  constructor(grid?: Array<number[]>) {\n    this.grid = grid || this.defaultGrid()\n  }\n\n  reset() {\n    this.grid = this.defaultGrid()\n  }\n\n  generate(): void {\n    this.reset()\n\n    const rand = (min: number, max: number) =>\n      Math.floor(Math.random() * (max - min + 1)) + min\n\n    let baseNumbers = 17\n\n    while (baseNumbers > 0) {\n      const fillX = rand(0, 8)\n      const fillY = rand(0, 8)\n      const allowedNumbers = this.allowedNumbers(fillX, fillY)\n\n      if (allowedNumbers.length > 3) {\n        const randomIndex = rand(0, allowedNumbers.length - 1)\n        this.set(fillX, fillY, allowedNumbers[randomIndex])\n        baseNumbers--\n      }\n    }\n\n    if (!this.solve()) {\n      return this.generate()\n    }\n\n    let digNumbers = 81 - rand(17, 40)\n\n    while (digNumbers > 0) {\n      const digX = rand(0, 8)\n      const digY = rand(0, 8)\n\n      if (this.get(digX, digY) && this.allowedNumbers(digX, digY).length < 7) {\n        this.set(digX, digY, 0)\n        digNumbers--\n      }\n    }\n  }\n\n  defaultGrid() {\n    return [...Array(SIZE)].map(x => [...Array(SIZE).fill(0)])\n  }\n\n  get(x: number, y: number): number {\n    return this.grid[y][x]\n  }\n\n  set(x: number, y: number, value: number): Error | number {\n    if (value) {\n      if (!this.allowedNumbersInRow(y).includes(value)) {\n        throw new Error(`${value} is not allowed in the row ${y}`)\n      }\n\n      if (!this.allowedNumbersInColumn(x).includes(value)) {\n        throw new Error(`${value} is not allowed in the column ${x}`)\n      }\n\n      if (!this.allowedNumbersInBlock(x, y).includes(value)) {\n        throw new Error(`${value} is not allowed in the block ${y}`)\n      }\n    }\n\n    return (this.grid[y][x] = value)\n  }\n\n  row(y: number): number[] {\n    return this.grid[y]\n  }\n\n  column(x: number): number[] {\n    return this.grid.map(row => row[x])\n  }\n\n  allowedNumbersInRow(y: number) {\n    const row = this.row(y)\n    return NUMBERS.filter(num => !row.includes(num))\n  }\n\n  allowedNumbersInColumn(x: number) {\n    const column = this.column(x)\n    return NUMBERS.filter(num => !column.includes(num))\n  }\n\n  allowedNumbersInBlock(x: number, y: number) {\n    const bx = Math.floor(x / 3) * 3\n    const by = Math.floor(y / 3) * 3\n\n    let numbersInBlock: number[] = []\n\n    for (var i = 0; i < 3; i++) {\n      for (var j = 0; j < 3; j++) {\n        numbersInBlock.push(this.get(bx + i, by + j))\n      }\n    }\n\n    return NUMBERS.filter(num => !numbersInBlock.includes(num))\n  }\n\n  allowedNumbers(x: number, y: number) {\n    const numbersInBlock = this.allowedNumbersInBlock(x, y)\n\n    if (numbersInBlock.length > 1) {\n      const numbersInRow = this.allowedNumbersInRow(y)\n      const numbersInColumn = this.allowedNumbersInColumn(x)\n      return numbersInBlock.filter(\n        num => numbersInRow.includes(num) && numbersInColumn.includes(num)\n      )\n    } else {\n      return numbersInBlock\n    }\n  }\n\n  emptyCells() {\n    let cells: Array<[number, number]> = []\n\n    this.grid.forEach((row, y) => {\n      row.forEach((num, x) => {\n        !num && cells.push([x, y])\n      })\n    })\n\n    return cells\n  }\n\n  anyEmptyCell(allowedNumbersLength = SIZE + 1) {\n    let cell: number[] = []\n\n    this.emptyCells().some((emptyCell: number[]) => {\n      const [x, y] = emptyCell\n      const length = this.allowedNumbers(x, y).length\n\n      if (length < allowedNumbersLength) {\n        cell = emptyCell\n        allowedNumbersLength = length\n      }\n\n      return length === 1\n    })\n\n    return cell\n  }\n\n  isSolved() {\n    return this.grid.every((row, y) => row.every((num, x) => num))\n  }\n\n  solve() {\n    return this.solveUltimately()\n  }\n\n  solveUltimately() {\n    if (this.isSolved()) {\n      return true\n    }\n\n    let [x, y] = this.anyEmptyCell()\n    var allowedNumbers = this.allowedNumbers(x, y)\n\n    while (allowedNumbers.length > 0) {\n      let value = allowedNumbers.shift() as number\n      this.set(x, y, value)\n\n      try {\n        if (this.solveUltimately()) {\n          return true\n        }\n      } catch (err) {\n        // Nothing\n      }\n\n      this.set(x, y, 0)\n    }\n\n    return false\n  }\n}\n","import React, { useState, useEffect, useRef } from \"react\"\nimport cx from \"classnames\"\nimport Sudoku from \"./lib/sudoku\"\n\n/* eslint import/no-webpack-loader-syntax: off */\nimport SudokuSolver from \"worker-loader!./workers/solve-sudoku-worker\"\nimport SudokuGenerator from \"worker-loader!./workers/generate-sudoku-worker\"\n\nimport \"./App.scss\"\nimport \"antd/dist/antd.css\"\nimport { Layout, Button, Modal, message } from \"antd\"\n\nconst sudoku = new Sudoku()\nconst NUMBERS = [1, 2, 3, 4, 5, 6, 7, 8, 9]\n\ntype GridDataType = Array<number[]>\n\nexport default function App() {\n  const inputRefs = useRef<{ [index: string]: HTMLInputElement | null }>({})\n\n  const [gridData, setGridData] = useState<GridDataType>(sudoku.grid)\n  const [solvedCells, setSolvedCells] = useState<GridDataType>([])\n  const [solving, setSolving] = useState<boolean>(false)\n  const [generating, setGenerating] = useState<boolean>(true)\n  const [showTips, setShowTips] = useState<boolean>(false)\n  const [editingCell, setEditingCell] = useState<string | null>()\n\n  useEffect(() => {\n    if (solving) {\n      const sudokuSolver: Worker = new SudokuSolver()\n      sudokuSolver.addEventListener(\"message\", (event: any) => {\n        setSolving(false)\n\n        if (event.data.success) {\n          setGridData(event.data.gridData)\n        } else {\n          Modal.error({\n            title: \"Sudoku\",\n            content: \"Sorry, this sudoku has no solution!\"\n          })\n        }\n      })\n\n      setSolvedCells(sudoku.emptyCells())\n      sudokuSolver.postMessage({ gridData: gridData })\n    }\n  }, [solving, gridData])\n\n  useEffect(() => {\n    if (generating) {\n      const sudokuGenerator: Worker = new SudokuGenerator()\n      sudokuGenerator.addEventListener(\"message\", (event: any) => {\n        sudoku.grid = event.data.gridData\n        setGenerating(false)\n        setGridData([...sudoku.grid])\n      })\n\n      setShowTips(false)\n      setSolvedCells([])\n      sudokuGenerator.postMessage({})\n    }\n  }, [generating, gridData])\n\n  useEffect(() => {\n    if (editingCell) {\n      if (inputRefs.current) {\n        const inputRef = inputRefs.current[editingCell]\n        inputRef && inputRef.focus()\n      }\n    }\n  }, [editingCell])\n\n  useEffect(() => {\n    const listener = (event: any) => {\n      if (!event.target.closest(\".sudoku-tips\")) {\n        setEditingCell(null)\n      }\n    }\n\n    document.addEventListener(\"click\", listener)\n\n    return () => {\n      document.removeEventListener(\"click\", listener)\n    }\n  }, [])\n\n  const setValue = (x: number, y: number, value: string) => {\n    const parsedValue = parseInt(value)\n\n    if (value.length && parsedValue > 9) {\n      message.info(`Only 1-9 numbers are allowed to input here!`)\n      return false\n    }\n\n    try {\n      sudoku.set(x, y, parsedValue || 0)\n    } catch (err) {\n      message.warning(`Conflict! You cannot set ${parsedValue} here!`)\n      return false\n    }\n\n    setGridData([...sudoku.grid])\n  }\n\n  const resetSudoku = () => {\n    sudoku.reset()\n    setSolvedCells([])\n    setGridData([...sudoku.grid])\n    setShowTips(false)\n  }\n\n  return (\n    <div className=\"App\">\n      <Layout>\n        <Layout.Content>\n          <div className=\"sudoku-container\">\n            <table className=\"sudoku-table\">\n              <tbody>\n                {gridData.map((row, y) => (\n                  <tr\n                    key={y}\n                    className={cx({\n                      \"block-boder\": (y + 1) % 3 === 0\n                    })}\n                  >\n                    {row.map((value, x) => (\n                      <td\n                        key={x}\n                        className={cx({\n                          \"block-boder\": (x + 1) % 3 === 0,\n                          solved: solvedCells.some(\n                            arr => arr.join() === [x, y].join()\n                          )\n                        })}\n                        onClick={() => setEditingCell([x, y].join())}\n                      >\n                        {showTips && !value && editingCell !== [x, y].join() ? (\n                          <div className=\"sudoku-tips\">\n                            {NUMBERS.map(num => (\n                              <span key={num}>\n                                {sudoku.allowedNumbers(x, y).includes(num) &&\n                                  num}\n                              </span>\n                            ))}\n                          </div>\n                        ) : (\n                          <input\n                            type=\"text\"\n                            value={value || \"\"}\n                            onChange={e => setValue(x, y, e.target.value)}\n                            readOnly={generating || solving}\n                            ref={input =>\n                              (inputRefs.current[[x, y].join()] = input)\n                            }\n                          />\n                        )}\n                      </td>\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n            <div className=\"sudoku-actions\">\n              <Button.Group>\n                <Button\n                  type=\"primary\"\n                  size=\"large\"\n                  onClick={() => setSolving(true)}\n                  disabled={generating || solving}\n                  loading={solving}\n                >\n                  {solving ? \"Solving\" : \"Solve Now!\"}\n                </Button>\n                <Button\n                  size=\"large\"\n                  onClick={() => setGenerating(true)}\n                  disabled={generating || solving}\n                  loading={generating}\n                >\n                  Regenerate Sudoku\n                </Button>\n                <Button size=\"large\" onClick={() => setShowTips(!showTips)}>\n                  {showTips ? \"Hide Tips\" : \"Show Tips\"}\n                </Button>\n                <Button\n                  size=\"large\"\n                  onClick={resetSudoku}\n                  disabled={generating || solving}\n                >\n                  Clear All\n                </Button>\n              </Button.Group>\n            </div>\n          </div>\n        </Layout.Content>\n      </Layout>\n    </div>\n  )\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"87be393668dc9e19064a.worker.js\");\n};","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"20ea804a911fa521b805.worker.js\");\n};"],"sourceRoot":""}