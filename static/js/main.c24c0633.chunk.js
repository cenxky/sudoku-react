(this["webpackJsonpsudoku-react"]=this["webpackJsonpsudoku-react"]||[]).push([[0],{62:function(e,t,n){e.exports=function(){return new Worker(n.p+"f6a8cc200d90b3824ac2.worker.js")}},63:function(e,t,n){e.exports=function(){return new Worker(n.p+"a2739df71d669ddaf4e6.worker.js")}},81:function(e,t,n){},82:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(19),a=n.n(o),u=(n(81),n(3)),l=n(4),s=n(10),c=n.n(s),d=n(8),h=n(9),f={4:{width:2,height:2,lowerSize:4,higherSize:8},6:{width:3,height:2,lowerSize:9,higherSize:18},8:{width:4,height:2,lowerSize:18,higherSize:36},9:{width:3,height:3,lowerSize:17,higherSize:40}},m=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(d.a)(this,e),this.grid=void 0,this.mode=void 0,this.blockSize=void 0,this.numbers=void 0,t=n.grid?n.grid.length.toString():n.mode||"9",this.mode=f[t],this.blockSize=this.mode.width*this.mode.height,this.numbers=Object(u.a)(Array(this.blockSize)).map((function(e,t){return t+1})),this.grid=n.grid||this.defaultGrid()}return Object(h.a)(e,[{key:"reset",value:function(){this.grid=this.defaultGrid()}},{key:"generate",value:function(){var e=this;this.reset();for(var t=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},n=function(){return t(0,e.blockSize-1)},r=this.mode,i=r.lowerSize,o=r.higherSize,a=Math.floor(this.blockSize/3),u=this.blockSize-2,l=Math.pow(this.blockSize,2),s=this.blockSize;s>0;){var c=n(),d=n(),h=this.allowedNumbers(c,d);if(h.length>a){var f=t(0,h.length-1);this.set(c,d,h[f]),s--}}if(!this.solve())return this.generate();for(var m=l-t(i,o);m>0;){var b=n(),v=n();this.get(b,v)&&this.allowedNumbers(b,v).length<u&&(this.set(b,v,0),m--)}}},{key:"defaultGrid",value:function(){var e=this;return Object(u.a)(Array(this.blockSize)).map((function(t){return Object(u.a)(Array(e.blockSize).fill(0))}))}},{key:"get",value:function(e,t){return this.grid[t][e]}},{key:"set",value:function(e,t,n){if(n){if(this.get(e,t)===n)return n;if(!this.allowedNumbersInRow(t).includes(n))throw new Error("".concat(n," is not allowed in the row ").concat(t));if(!this.allowedNumbersInColumn(e).includes(n))throw new Error("".concat(n," is not allowed in the column ").concat(e));if(!this.allowedNumbersInBlock(e,t).includes(n))throw new Error("".concat(n," is not allowed in the block ").concat(t))}return this.grid[t][e]=n}},{key:"row",value:function(e){return this.grid[e]}},{key:"column",value:function(e){return this.grid.map((function(t){return t[e]}))}},{key:"allowedNumbersInRow",value:function(e){var t=this.row(e);return this.numbers.filter((function(e){return!t.includes(e)}))}},{key:"allowedNumbersInColumn",value:function(e){var t=this.column(e);return this.numbers.filter((function(e){return!t.includes(e)}))}},{key:"allowedNumbersInBlock",value:function(e,t){for(var n=this.mode,r=n.width,i=n.height,o=Math.floor(e/r)*r,a=Math.floor(t/i)*i,u=[],l=0;l<r;l++)for(var s=0;s<i;s++)u.push(this.get(o+l,a+s));return this.numbers.filter((function(e){return!u.includes(e)}))}},{key:"allowedNumbers",value:function(e,t){var n=this.allowedNumbersInBlock(e,t);if(n.length>1){var r=this.allowedNumbersInRow(t),i=this.allowedNumbersInColumn(e);return n.filter((function(e){return r.includes(e)&&i.includes(e)}))}return n}},{key:"emptyCells",value:function(){var e=[];return this.grid.forEach((function(t,n){t.forEach((function(t,r){!t&&e.push([r,n])}))})),e}},{key:"anyEmptyCell",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.blockSize+1,n=[];return this.emptyCells().some((function(r){var i=Object(l.a)(r,2),o=i[0],a=i[1],u=e.allowedNumbers(o,a).length;return u<t&&(n=r,t=u),1===u})),n}},{key:"isSolved",value:function(){return this.grid.every((function(e,t){return e.every((function(e,t){return e}))}))}},{key:"solve",value:function(){return this.solveUltimately()}},{key:"solveUltimately",value:function(){if(this.isSolved())return!0;for(var e=this.anyEmptyCell(),t=Object(l.a)(e,2),n=t[0],r=t[1],i=this.allowedNumbers(n,r);i.length>0;){var o=i.shift();this.set(n,r,o);try{if(this.solveUltimately())return!0}catch(a){}this.set(n,r,0)}return!1}}]),e}(),b=n(62),v=n.n(b),g=n(63),k=n.n(g),w=(n(82),n(83),n(89)),y=n(73),p=n(42),S=new m({mode:"9"}),j=S.numbers;function E(){var e=Object(r.useRef)({}),t=Object(r.useState)(S.grid),n=Object(l.a)(t,2),o=n[0],a=n[1],s=Object(r.useState)([]),d=Object(l.a)(s,2),h=d[0],f=d[1],m=Object(r.useState)(!1),b=Object(l.a)(m,2),g=b[0],E=b[1],O=Object(r.useState)(!0),z=Object(l.a)(O,2),N=z[0],C=z[1],I=Object(r.useState)(!1),M=Object(l.a)(I,2),B=M[0],R=M[1],A=Object(r.useState)(),G=Object(l.a)(A,2),L=G[0],W=G[1];Object(r.useEffect)((function(){if(g){var e=new v.a;e.addEventListener("message",(function(e){E(!1),e.data.success?a(e.data.gridData):w.a.error({title:"Sudoku",content:"Sorry, this sudoku has no solution!"})})),f(S.emptyCells()),e.postMessage({gridData:o,mode:"9"})}}),[g,o]),Object(r.useEffect)((function(){if(N){var e=new k.a;e.addEventListener("message",(function(e){S.grid=e.data.gridData,C(!1),a(Object(u.a)(S.grid))})),R(!1),f([]),e.postMessage({mode:"9"})}}),[N,o]),Object(r.useEffect)((function(){if(L&&e.current){var t=e.current[L];t&&t.focus()}}),[L]),Object(r.useEffect)((function(){var e=function(e){e.target.closest(".sudoku-tips")||W(null)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]);return i.a.createElement("div",{className:"app"},i.a.createElement("div",{className:"app-sudoku"},i.a.createElement("div",{className:"sudoku-container"},i.a.createElement("table",{className:"sudoku-table"},i.a.createElement("tbody",null,o.map((function(t,n){return i.a.createElement("tr",{key:n,className:c()({"block-boder":(n+1)%S.mode.height===0})},t.map((function(t,r){return i.a.createElement("td",{key:r,className:c()({"block-boder":(r+1)%S.mode.width===0,solved:h.some((function(e){return e.join()===[r,n].join()}))}),onClick:function(){return W([r,n].join())}},i.a.createElement("div",{className:"cell"},B&&!t&&L!==[r,n].join()?i.a.createElement("div",{className:"sudoku-tips"},j.map((function(e){return i.a.createElement("span",{key:e},S.allowedNumbers(r,n).includes(e)&&e)}))):i.a.createElement("input",{type:"text",value:t||"",onChange:function(e){return function(e,t,n){var r=parseInt(n);if(n.length&&r>S.blockSize)return y.b.info("Only 1-9 numbers are allowed to input here!"),!1;try{S.set(e,t,r||0)}catch(i){return y.b.warning("Conflict! You cannot set ".concat(r," here!")),!1}a(Object(u.a)(S.grid))}(r,n,e.target.value)},readOnly:N||g,ref:function(t){return e.current[[r,n].join()]=t}})))})))})))),i.a.createElement("div",{className:"sudoku-actions"},i.a.createElement(p.a.Group,null,i.a.createElement(p.a,{type:"primary",size:"large",onClick:function(){return E(!0)},disabled:N||g,loading:g},g?"Solving":"Solve Now!"),i.a.createElement(p.a,{size:"large",onClick:function(){return C(!0)},disabled:N||g,loading:N},"Regenerate Sudoku"),i.a.createElement(p.a,{size:"large",onClick:function(){return R(!B)}},B?"Hide Tips":"Show Tips"),i.a.createElement(p.a,{size:"large",onClick:function(){S.reset(),f([]),a(Object(u.a)(S.grid)),R(!1)},disabled:N||g},"Clear All"))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[87,1,2]]]);
//# sourceMappingURL=main.c24c0633.chunk.js.map