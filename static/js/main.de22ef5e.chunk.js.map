{"version":3,"sources":["lib/sudoku.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["NUMBERS","Sudoku","grid","Object","classCallCheck","this","defaultGrid","toConsumableArray","Array","map","x","fill","y","value","allowedNumbersInRow","includes","Error","concat","allowedNumbersInColumn","allowedNumbersInBlock","row","filter","num","column","bx","Math","floor","by","numbersInBlock","i","j","push","get","length","numbersInRow","numbersInColumn","cells","forEach","_this","allowedNumbersLength","arguments","undefined","SIZE","cell","emptyCells","some","emptyCell","_emptyCell","slicedToArray","allowedNumbers","anyEmptyCell","solvePrimary","solveUltimately","isSolved","possibleCell","_possibleCell","set","_this$anyEmptyCell","_this$anyEmptyCell2","shift","err","sudoku","Boolean","window","location","hostname","match","ReactDOM","render","react_default","a","createElement","_useState","useState","_useState2","gridData","setGridData","_useState3","_useState4","solvedCells","setSolvedCells","_useState5","_useState6","solving","setSolving","useEffect","setTimeout","solveSudoku","console","time","sudokuSolvedStatus","solve","timeEnd","Modal","error","title","content","className","layout","Content","key","cx","block-boder","solved","arr","join","type","onChange","e","parsedValue","parseInt","message","info","warning","setValue","target","readOnly","es_button","Group","size","onClick","loading","reset","disabled","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.de22ef5e.chunk.js","sourcesContent":["const SIZE = 9\nconst NUMBERS = [1, 2, 3, 4, 5, 6, 7, 8, 9]\n\nexport default class Sudoku {\n  grid: Array<number[]>\n\n  constructor(grid?: Array<number[]>) {\n    this.grid = grid || this.defaultGrid()\n  }\n\n  reset() {\n    this.grid = this.defaultGrid()\n  }\n\n  defaultGrid() {\n    return [...Array(SIZE)].map(x => [...Array(SIZE).fill(0)])\n  }\n\n  get(x: number, y: number): number {\n    return this.grid[y][x]\n  }\n\n  set(x: number, y: number, value: number): Error | number {\n    if (value) {\n      if (!this.allowedNumbersInRow(y).includes(value)) {\n        throw new Error(`${value} is not allowed in the row ${y}`)\n      }\n\n      if (!this.allowedNumbersInColumn(x).includes(value)) {\n        throw new Error(`${value} is not allowed in the column ${x}`)\n      }\n\n      if (!this.allowedNumbersInBlock(x, y).includes(value)) {\n        throw new Error(`${value} is not allowed in the block ${y}`)\n      }\n    }\n\n    return this.grid[y][x] = value\n  }\n\n  row(y: number): number[] {\n    return this.grid[y]\n  }\n\n  column(x: number): number[] {\n    return this.grid.map(row => row[x])\n  }\n\n  allowedNumbersInRow(y: number) {\n    const row = this.row(y)\n    return NUMBERS.filter(num => !row.includes(num))\n  }\n\n  allowedNumbersInColumn(x: number) {\n    const column = this.column(x)\n    return NUMBERS.filter(num => !column.includes(num))\n  }\n\n  allowedNumbersInBlock(x: number, y: number) {\n    const bx = Math.floor(x / 3) * 3\n    const by = Math.floor(y / 3) * 3\n\n    let numbersInBlock: number[] = []\n\n    for (var i = 0; i < 3; i++) {\n      for (var j = 0; j < 3; j++) {\n        numbersInBlock.push(this.get(bx + i, by + j))\n      }\n    }\n\n    return NUMBERS.filter(num => !numbersInBlock.includes(num))\n  }\n\n  allowedNumbers(x: number, y: number) {\n    const numbersInBlock = this.allowedNumbersInBlock(x, y)\n\n    if (numbersInBlock.length > 1) {\n      const numbersInRow = this.allowedNumbersInRow(y)\n      const numbersInColumn = this.allowedNumbersInColumn(x)\n      return numbersInBlock.filter(num => (\n        numbersInRow.includes(num) && numbersInColumn.includes(num)\n      ))\n    } else {\n      return numbersInBlock\n    }\n  }\n\n  emptyCells() {\n    let cells: Array<[number, number]> = []\n\n    this.grid.forEach((row, y) => {\n      row.forEach((num, x) => {\n        !num && cells.push([x, y])\n      })\n    })\n\n    return cells\n  }\n\n  anyEmptyCell(allowedNumbersLength = SIZE + 1) {\n    let cell: number[] = []\n\n    this.emptyCells().some((emptyCell: number[]) => {\n      const [x, y] = emptyCell\n      const length = this.allowedNumbers(x, y).length\n\n      if (length < allowedNumbersLength) {\n        cell = emptyCell\n        allowedNumbersLength = length\n      }\n\n      return length === 1\n    })\n\n    return cell\n  }\n\n  isSolved() {\n    return !this.anyEmptyCell().length\n  }\n\n  solve() {\n    return this.solvePrimary() || this.solveUltimately()\n  }\n\n  solvePrimary() {\n    if (this.isSolved()) { return true }\n\n    const possibleCell = this.anyEmptyCell(1)\n\n    if (possibleCell.length) {\n      const [x, y] = possibleCell\n      const allowedNumbers = this.allowedNumbers(x, y)\n\n      this.set(x, y, allowedNumbers[0])\n      if (this.solvePrimary()) { return true }\n    }\n\n    return false\n  }\n\n  solveUltimately() {\n    if (this.isSolved()) { return true }\n\n    let [x, y] = this.anyEmptyCell()\n    var allowedNumbers = this.allowedNumbers(x, y)\n\n    while (allowedNumbers.length > 0) {\n      let value = allowedNumbers.shift() as number\n      this.set(x, y, value)\n\n      try {\n        if (this.solveUltimately()) { return true }\n      } catch(err) {\n        // Nothing\n      }\n\n      this.set(x, y, 0)\n    }\n\n    return false\n  }\n}\n","import React, { useState, useEffect } from \"react\"\nimport cx from \"classnames\"\nimport Sudoku from \"./lib/sudoku\"\n\nimport \"./App.scss\"\nimport \"antd/dist/antd.css\"\nimport { Layout, Button, Modal, message } from \"antd\"\n\n// const sudoku = new Sudoku()\nconst sudoku = new Sudoku([\n  [4, 0, 0, 0, 0, 0, 8, 0, 5],\n  [0, 3, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 7, 0, 0, 0, 0, 0],\n  [0, 2, 0, 0, 0, 0, 0, 6, 0],\n  [0, 0, 0, 0, 8, 0, 4, 0, 0],\n  [0, 0, 0, 0, 1, 0, 0, 0, 0],\n  [0, 0, 0, 6, 0, 3, 0, 7, 0],\n  [5, 0, 0, 2, 0, 0, 0, 0, 0],\n  [1, 0, 4, 0, 0, 0, 0, 0, 0]\n])\n\n// const sudoku = new Sudoku([\n//   [0, 3, 0, 0, 0, 0, 0, 0, 1],\n//   [0, 0, 0, 5, 0, 0, 0, 0, 4],\n//   [0, 0, 5, 0, 0, 7, 0, 0, 0],\n//   [0, 0, 0, 0, 3, 0, 0, 0, 9],\n//   [6, 0, 0, 0, 0, 0, 0, 0, 0],\n//   [7, 0, 0, 0, 0, 0, 0, 4, 0],\n//   [0, 9, 0, 0, 4, 0, 0, 0, 0],\n//   [0, 5, 0, 0, 0, 0, 7, 0, 0],\n//   [0, 0, 0, 0, 0, 8, 0, 6, 0]\n// ])\n\ntype GridDataType = Array<number[]>\n\nexport default function App() {\n  const [gridData, setGridData] = useState<GridDataType>(sudoku.grid)\n  const [solvedCells, setSolvedCells] = useState<GridDataType>([])\n  const [solving, setSolving] = useState<boolean>(false)\n\n  useEffect(() => {\n    if (solving) {\n      setTimeout(solveSudoku, 300)\n    }\n  }, [solving])\n\n  const setValue = (x: number, y: number, value: string) => {\n    const parsedValue = parseInt(value)\n\n    if (value.length && parsedValue > 9) {\n      message.info(`Only 1-9 numbers are allowed to input here!`)\n      return false\n    }\n\n    try {\n      sudoku.set(x, y, parsedValue || 0)\n    } catch (err) {\n      message.warning(`Conflict! You cannot set ${parsedValue} here!`)\n      return false\n    }\n\n    setGridData([...sudoku.grid])\n  }\n\n  const solveSudoku = () => {\n    setSolvedCells(sudoku.emptyCells())\n\n    console.time(\"Sudoku runs\")\n    const sudokuSolvedStatus = sudoku.solve()\n    console.timeEnd(\"Sudoku runs\")\n\n    setSolving(false)\n\n    if (sudokuSolvedStatus) {\n      setGridData([...sudoku.grid])\n    } else {\n      Modal.error({\n        title: \"Sudoku\",\n        content: \"Sorry, this sudoku has no solution!\"\n      })\n    }\n  }\n\n  const resetSudoku = () => {\n    sudoku.reset()\n    setSolvedCells([])\n    setGridData([...sudoku.grid])\n  }\n\n  return (\n    <div className=\"App\">\n      <Layout>\n        <Layout.Content>\n          <div className=\"sudoku-container\">\n            <table className=\"sudoku-table\">\n              <tbody>\n                {gridData.map((row, y) => (\n                  <tr\n                    key={y}\n                    className={cx({\n                      \"block-boder\": (y + 1) % 3 === 0\n                    })}\n                  >\n                    {row.map((value, x) => (\n                      <td\n                        key={x}\n                        className={cx({\n                          \"block-boder\": (x + 1) % 3 === 0,\n                          solved: solvedCells.some(\n                            arr => arr.join() === [x, y].join()\n                          )\n                        })}\n                      >\n                        <input\n                          type=\"text\"\n                          value={value || \"\"}\n                          onChange={e => setValue(x, y, e.target.value)}\n                          readOnly={solving}\n                        />\n                      </td>\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n            <div className=\"sudoku-actions\">\n              <Button.Group>\n                <Button\n                  type=\"primary\"\n                  size=\"large\"\n                  onClick={() => setSolving(true)}\n                  loading={solving}\n                >\n                  {solving ? \"Solving\" : \"Solve Now!\"}\n                </Button>\n                <Button size=\"large\" onClick={resetSudoku} disabled={solving}>\n                  Clear All\n                </Button>\n              </Button.Group>\n            </div>\n          </div>\n        </Layout.Content>\n      </Layout>\n    </div>\n  )\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}