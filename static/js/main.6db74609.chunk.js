(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{149:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(3),i=n.n(o),u=(n(98),n(21)),l=n(14),c=n(4),s=n.n(c),f=n(77),d=n(78),h=[1,2,3,4,5,6,7,8,9],m=function(){function e(t){Object(f.a)(this,e),this.grid=void 0,this.grid=t||this.defaultGrid()}return Object(d.a)(e,[{key:"reset",value:function(){this.grid=this.defaultGrid()}},{key:"generate",value:function(){this.reset();for(var e=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t=17;t>0;){var n=e(0,8),r=e(0,8),a=this.allowedNumbers(n,r);if(a.length>3){var o=e(0,a.length-1);this.set(n,r,a[o]),t--}}if(!this.solve())return this.generate();for(var i=81-e(17,40);i>0;){var u=e(0,8),l=e(0,8);this.get(u,l)&&this.allowedNumbers(u,l).length<7&&(this.set(u,l,0),i--)}}},{key:"defaultGrid",value:function(){return Object(u.a)(Array(9)).map(function(e){return Object(u.a)(Array(9).fill(0))})}},{key:"get",value:function(e,t){return this.grid[t][e]}},{key:"set",value:function(e,t,n){if(n){if(!this.allowedNumbersInRow(t).includes(n))throw new Error("".concat(n," is not allowed in the row ").concat(t));if(!this.allowedNumbersInColumn(e).includes(n))throw new Error("".concat(n," is not allowed in the column ").concat(e));if(!this.allowedNumbersInBlock(e,t).includes(n))throw new Error("".concat(n," is not allowed in the block ").concat(t))}return this.grid[t][e]=n}},{key:"row",value:function(e){return this.grid[e]}},{key:"column",value:function(e){return this.grid.map(function(t){return t[e]})}},{key:"allowedNumbersInRow",value:function(e){var t=this.row(e);return h.filter(function(e){return!t.includes(e)})}},{key:"allowedNumbersInColumn",value:function(e){var t=this.column(e);return h.filter(function(e){return!t.includes(e)})}},{key:"allowedNumbersInBlock",value:function(e,t){for(var n=3*Math.floor(e/3),r=3*Math.floor(t/3),a=[],o=0;o<3;o++)for(var i=0;i<3;i++)a.push(this.get(n+o,r+i));return h.filter(function(e){return!a.includes(e)})}},{key:"allowedNumbers",value:function(e,t){var n=this.allowedNumbersInBlock(e,t);if(n.length>1){var r=this.allowedNumbersInRow(t),a=this.allowedNumbersInColumn(e);return n.filter(function(e){return r.includes(e)&&a.includes(e)})}return n}},{key:"emptyCells",value:function(){var e=[];return this.grid.forEach(function(t,n){t.forEach(function(t,r){!t&&e.push([r,n])})}),e}},{key:"anyEmptyCell",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=[];return this.emptyCells().some(function(r){var a=Object(l.a)(r,2),o=a[0],i=a[1],u=e.allowedNumbers(o,i).length;return u<t&&(n=r,t=u),1===u}),n}},{key:"isSolved",value:function(){return this.grid.every(function(e,t){return e.every(function(e,t){return e})})}},{key:"solve",value:function(){return this.solveUltimately()}},{key:"solveUltimately",value:function(){if(this.isSolved())return!0;for(var e=this.anyEmptyCell(),t=Object(l.a)(e,2),n=t[0],r=t[1],a=this.allowedNumbers(n,r);a.length>0;){var o=a.shift();this.set(n,r,o);try{if(this.solveUltimately())return!0}catch(i){}this.set(n,r,0)}return!1}}]),e}(),v=n(79),b=n.n(v),g=n(80),w=n.n(g),k=(n(99),n(100),n(151)),y=n(152),p=n(153),E=n(34),j=new m,O=[1,2,3,4,5,6,7,8,9];Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(function(){var e=Object(r.useRef)({}),t=Object(r.useState)(j.grid),n=Object(l.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)([]),f=Object(l.a)(c,2),d=f[0],h=f[1],m=Object(r.useState)(!1),v=Object(l.a)(m,2),g=v[0],N=v[1],C=Object(r.useState)(!0),S=Object(l.a)(C,2),I=S[0],M=S[1],B=Object(r.useState)(!1),R=Object(l.a)(B,2),x=R[0],z=R[1],A=Object(r.useState)(),G=Object(l.a)(A,2),L=G[0],W=G[1];return Object(r.useEffect)(function(){if(g){var e=new b.a;e.addEventListener("message",function(e){N(!1),e.data.success?i(e.data.gridData):k.a.error({title:"Sudoku",content:"Sorry, this sudoku has no solution!"})}),h(j.emptyCells()),e.postMessage({gridData:o})}},[g,o]),Object(r.useEffect)(function(){if(I){var e=new w.a;e.addEventListener("message",function(e){j.grid=e.data.gridData,M(!1),i(Object(u.a)(j.grid))}),z(!1),h([]),e.postMessage({})}},[I,o]),Object(r.useEffect)(function(){if(L&&e.current){var t=e.current[L];t&&t.focus()}},[L]),Object(r.useEffect)(function(){var e=function(e){e.target.closest(".sudoku-tips")||W(null)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}},[]),a.a.createElement("div",{className:"App"},a.a.createElement(p.a,null,a.a.createElement(p.a.Content,null,a.a.createElement("div",{className:"sudoku-container"},a.a.createElement("table",{className:"sudoku-table"},a.a.createElement("tbody",null,o.map(function(t,n){return a.a.createElement("tr",{key:n,className:s()({"block-boder":(n+1)%3===0})},t.map(function(t,r){return a.a.createElement("td",{key:r,className:s()({"block-boder":(r+1)%3===0,solved:d.some(function(e){return e.join()===[r,n].join()})}),onClick:function(){return W([r,n].join())}},x&&!t&&L!==[r,n].join()?a.a.createElement("div",{className:"sudoku-tips"},O.map(function(e){return a.a.createElement("span",{key:e},j.allowedNumbers(r,n).includes(e)&&e)})):a.a.createElement("input",{type:"text",value:t||"",onChange:function(e){return function(e,t,n){var r=parseInt(n);if(n.length&&r>9)return y.a.info("Only 1-9 numbers are allowed to input here!"),!1;try{j.set(e,t,r||0)}catch(a){return y.a.warning("Conflict! You cannot set ".concat(r," here!")),!1}i(Object(u.a)(j.grid))}(r,n,e.target.value)},readOnly:I||g,ref:function(t){return e.current[[r,n].join()]=t}}))}))}))),a.a.createElement("div",{className:"sudoku-actions"},a.a.createElement(E.a.Group,null,a.a.createElement(E.a,{type:"primary",size:"large",onClick:function(){return N(!0)},disabled:I||g,loading:g},g?"Solving":"Solve Now!"),a.a.createElement(E.a,{size:"large",onClick:function(){return M(!0)},disabled:I||g,loading:I},"Regenerate Sudoku"),a.a.createElement(E.a,{size:"large",onClick:function(){return z(!x)}},x?"Hide Tips":"Show Tips"),a.a.createElement(E.a,{size:"large",onClick:function(){j.reset(),h([]),i(Object(u.a)(j.grid)),z(!1)},disabled:I||g},"Clear All")))))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},79:function(e,t,n){e.exports=function(){return new Worker(n.p+"87be393668dc9e19064a.worker.js")}},80:function(e,t,n){e.exports=function(){return new Worker(n.p+"20ea804a911fa521b805.worker.js")}},93:function(e,t,n){e.exports=n(149)},98:function(e,t,n){},99:function(e,t,n){}},[[93,1,2]]]);
//# sourceMappingURL=main.6db74609.chunk.js.map